# Input file for Stack Fault Energy surface of Nickel
# Richard Glaze, 2014
# --------------------- INITIALIZAITION ---------------------
clear
units		metal
dimension	3
boundary	p p p
atom_style	atomic
#variable latparam1 equal ${a}
# --------------------- ATOM DEFINITION ---------------------

read_data no_def

# Set masses

mass		1 55.845	#Fe
mass		2 54.9380	#Mn
mass            3 58.933194     #Co
mass            4 51.9961       #Cr
mass            5 54.6934       #Ni
# --------------------- FORCE FIELDS ---------------------

pair_style      mlip mlip.ini
pair_coeff      * *

# --------------------- SETTINGS ---------------------
compute peratom all pe/atom
compute eatoms all reduce sum c_peratom
compute csym all centro/atom fcc
thermo 1
thermo_style   custom step pe ke etotal press pxx pyy pzz pxy pxz pyz fnorm c_eatoms
dump 10 all custom 1 dump.relax.* id type xs ys zs fx fy fz c_peratom c_csym
run 0

#this command creates a model of the script before the displacement and minimization occur
variable E equal "c_eatoms"
variable Eo equal $E

fix 1 all setforce 0 0 NULL
min_style cg
minimize        	1.0e-12 1.0e-12 10000 10000
log        		    log_HEA_energy_minimized.data

unfix 	1

write_data	minimized_structure_box_relax.data


#variable Ef equal "c_eatoms" computes the final energy of the system after sliding is done
#variable A is the area of the Stacking fault plane
#variable Cf is the conversion factor of electro volts to millijoules
#variable SFE is the stacking-fault energy of the system
####################################
# SIMULATION DONE
print "All done"
print "Initial energy of atoms = ${Eo} eV"
